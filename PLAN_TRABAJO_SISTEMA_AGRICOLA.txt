================================================================================
PLAN DE TRABAJO - SISTEMA INTEGRAL DE GESTI√ìN AGR√çCOLA
Desarrollo Completo en Un D√≠a - Metodolog√≠a por Prompts
================================================================================

TIEMPO ESTIMADO TOTAL: 9-11 horas de trabajo intensivo
ARQUITECTURA: React + TypeScript + Vite + TanStack Query + Zustand
IDIOMA: 100% Espa√±ol

================================================================================
√çNDICE DE FASES
================================================================================

CONFIGURACI√ìN BASE:
‚îú‚îÄ‚îÄ Fase 1: Modelo de Datos y Tipos TypeScript (1h)
‚îú‚îÄ‚îÄ Fase 2: Servicios y Mocks (1.5h)
‚îî‚îÄ‚îÄ Fase 3: Componentes UI Base (1h)

M√ìDULOS PRINCIPALES:
‚îú‚îÄ‚îÄ Fase 4: Dashboard (1h)
‚îú‚îÄ‚îÄ Fase 5: Labores Agr√≠colas (1.5h)
‚îú‚îÄ‚îÄ Fase 6: Trabajadores (1h)
‚îú‚îÄ‚îÄ Fase 7: Cultivos y Lotes (1h)
‚îú‚îÄ‚îÄ Fase 8: Inventario de Insumos (45min)
‚îú‚îÄ‚îÄ Fase 9: Planificaci√≥n (45min)
‚îú‚îÄ‚îÄ Fase 10: Reportes (1h)
‚îî‚îÄ‚îÄ Fase 11: Integraci√≥n y Navegaci√≥n (1h)

SISTEMA DE SEGURIDAD Y PERMISOS:
‚îî‚îÄ‚îÄ Fase 12: ‚≠ê M√ìDULO DE ROLES Y PERMISOS (1h) - CR√çTICO
    ‚îú‚îÄ‚îÄ 7 Roles diferenciados
    ‚îú‚îÄ‚îÄ Sistema de permisos granulares
    ‚îú‚îÄ‚îÄ Gesti√≥n de usuarios
    ‚îú‚îÄ‚îÄ Auditor√≠a y logs
    ‚îî‚îÄ‚îÄ Protecci√≥n de rutas y componentes

FUNCIONALIDADES AVANZADAS:
‚îú‚îÄ‚îÄ Fase 13: Sincronizaci√≥n Offline y Funciones Avanzadas (1h)
‚îî‚îÄ‚îÄ Fase 14: Trazabilidad y Mapas (45min)

OPTIMIZACI√ìN Y ENTREGA:
‚îú‚îÄ‚îÄ Fase 15: Optimizaci√≥n y Polish (1h)
‚îú‚îÄ‚îÄ Fase 16: Landing Page y Autenticaci√≥n (45min)
‚îú‚îÄ‚îÄ Fase 17: Documentaci√≥n y Datos Demo (30min)
‚îú‚îÄ‚îÄ Fase 18: Testing y Ajustes (30min)
‚îú‚îÄ‚îÄ Fase 19: Preparaci√≥n Integraciones Futuras (30min)
‚îú‚îÄ‚îÄ Fase 20: Deployment y Configuraci√≥n (30min)
‚îî‚îÄ‚îÄ Fase 21: Revisi√≥n Final y Entrega (30min)

================================================================================
SISTEMA DE ROLES Y PERMISOS - RESUMEN
================================================================================

El sistema implementa 7 roles con permisos diferenciados:

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ROL                 ‚îÇ DESCRIPCI√ìN Y PERMISOS PRINCIPALES                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üëë SUPER_ADMIN      ‚îÇ ‚Ä¢ Acceso total al sistema                            ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Gesti√≥n de usuarios y roles                        ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Configuraci√≥n del sistema                          ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Auditor√≠a completa                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚öôÔ∏è  ADMINISTRADOR   ‚îÇ ‚Ä¢ Gesti√≥n completa de operaciones                    ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ CRUD de labores, trabajadores, cultivos            ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Gesti√≥n de inventario y planificaci√≥n              ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Reportes y exportaciones                           ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ NO gestiona usuarios del sistema                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üë®‚Äçüíº SUPERVISOR      ‚îÇ ‚Ä¢ Supervisi√≥n de operaciones diarias                ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Crear/editar labores (no eliminar)                 ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Ajustar inventario de insumos                      ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Gestionar actividades y asignaciones               ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Ver y exportar reportes                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üå± TECNICO_AGRICOLA ‚îÇ ‚Ä¢ Registro y seguimiento de labores                  ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Completar actividades asignadas                    ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Ver informaci√≥n de cultivos y lotes                ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Consultar reportes b√°sicos                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üë∑ TRABAJADOR_CAMPO ‚îÇ ‚Ä¢ Registrar labores propias                          ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Completar actividades asignadas                    ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Ver cultivos y lotes                               ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Acceso limitado a informaci√≥n b√°sica               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üí∞ CONTADOR         ‚îÇ ‚Ä¢ Acceso a informaci√≥n financiera                    ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Ver salarios de trabajadores                       ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Ver costos de insumos                              ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Reportes financieros completos                     ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Exportar datos contables                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üëÅÔ∏è  SOLO_LECTURA    ‚îÇ ‚Ä¢ Visualizaci√≥n sin capacidad de edici√≥n             ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Ver labores, trabajadores, cultivos                ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Consultar reportes                                 ‚îÇ
‚îÇ                     ‚îÇ ‚Ä¢ Ver trazabilidad                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

USUARIOS DE DEMOSTRACI√ìN:
‚Ä¢ admin@agro.com / admin123 (Administrador)
‚Ä¢ supervisor@agro.com / super123 (Supervisor)
‚Ä¢ tecnico@agro.com / tecnico123 (T√©cnico Agr√≠cola)
‚Ä¢ trabajador@agro.com / trab123 (Trabajador de Campo)
‚Ä¢ contador@agro.com / cont123 (Contador)

================================================================================
FASE 1: CONFIGURACI√ìN BASE Y MODELO DE DATOS (1 hora)
================================================================================

PROMPT 1.1 - Modelo de Datos y Tipos TypeScript
--------------------------------------------------------------------------------
Crea el archivo src/types/agricola.ts con la definici√≥n completa del modelo de 
datos para el sistema agr√≠cola. Debe incluir:

INTERFACES PRINCIPALES:
- Trabajador: id, nombres, apellidos, documento, tipo_documento, telefono, 
  email, cargo, fecha_ingreso, estado, foto_perfil, direccion
- Cultivo: id, nombre, nombre_cientifico, variedad, tipo, ciclo_dias, 
  descripcion, fecha_siembra, estado, imagen
- Lote: id, codigo, nombre, cultivo_id, area_hectareas, ubicacion_gps 
  (lat, lng), estado, mapa_visual_url, fecha_inicio, notas
- Labor: id, fecha_hora, cultivo_id, lote_id, trabajador_id, tipo_labor 
  (enum: SIEMBRA, RIEGO, FUMIGACION, COSECHA, PODA, FERTILIZACION, 
  CONTROL_PLAGAS, DESYERBE, OTRO), descripcion, cantidad_recolectada, 
  unidad_medida, peso_kg, coordenadas_gps, condiciones_clima, estado_labor, 
  observaciones, fotografias[], insumos_utilizados[], maquinaria_utilizada[]
- Insumo: id, nombre, tipo (FERTILIZANTE, PESTICIDA, HERBICIDA, SEMILLA, 
  HERRAMIENTA, OTRO), unidad, cantidad_disponible, cantidad_minima, costo_unitario, 
  proveedor, fecha_vencimiento, ubicacion_almacen
- Maquinaria: id, nombre, tipo, marca, modelo, placa, estado, 
  horas_uso, ultima_mantenimiento, proximo_mantenimiento
- ActividadPlanificada: id, titulo, descripcion, fecha_programada, cultivo_id, 
  lote_id, trabajador_asignado_id, tipo_labor, estado (PENDIENTE, EN_PROCESO, 
  COMPLETADA, CANCELADA), prioridad
- RegistroTrazabilidad: id, lote_id, fecha, tipo_evento, descripcion, 
  usuario_id, datos_adicionales

ENUMS:
- TipoLabor, EstadoLabor, TipoInsumo, TipoCultivo, EstadoActividad, 
  Prioridad, RolUsuario

Incluye tipos para formularios, filtros, respuestas API y estad√≠sticas.


PROMPT 1.2 - Configuraci√≥n de Servicios Base
--------------------------------------------------------------------------------
Actualiza src/lib/axios.ts para incluir configuraci√≥n del backend agr√≠cola.
Configura baseURL para API local o mock: http://localhost:3000/api
Implementa interceptores para manejo de tokens y errores en espa√±ol.


PROMPT 1.3 - Store Global de Estado
--------------------------------------------------------------------------------
Crea src/stores/agricolaStore.ts usando Zustand para manejar:
- Estado de sincronizaci√≥n offline
- Cultivos y lotes seleccionados actualmente
- Filtros activos en las diferentes vistas
- Configuraci√≥n de unidades de medida
- Preferencias de usuario (tema, idioma, vista por defecto)
- Cola de sincronizaci√≥n para operaciones offline


================================================================================
FASE 2: SERVICIOS Y MOCKS (1.5 horas)
================================================================================

PROMPT 2.1 - Servicio Mock de Datos
--------------------------------------------------------------------------------
Crea src/services/mockDataService.ts con datos realistas simulados:
- 15 trabajadores con diferentes cargos (operarios, supervisores, t√©cnicos)
- 8 cultivos diferentes (caf√©, pl√°tano, cacao, ma√≠z, yuca, aguacate, c√≠tricos, 
  tomate) con informaci√≥n bot√°nica real
- 20 lotes distribuidos entre los cultivos con coordenadas GPS de Colombia
- 100 registros de labores de los √∫ltimos 30 d√≠as con variedad de actividades
- 30 insumos diferentes categorizados
- 10 m√°quinas y herramientas
- 25 actividades planificadas para los pr√≥ximos 15 d√≠as
- Datos de trazabilidad completa para 5 lotes

Funci√≥n para generar datos aleatorios adicionales.
Implementa almacenamiento en localStorage para persistencia.


PROMPT 2.2 - Servicios API Base
--------------------------------------------------------------------------------
Crea la carpeta src/services/api/ con los siguientes servicios:

trabajadoresService.ts:
- getTrabajadores(filtros)
- getTrabajadorById(id)
- createTrabajador(data)
- updateTrabajador(id, data)
- deleteTrabajador(id)
- getTrabajadoresActivos()

cultivosService.ts:
- getCultivos(filtros)
- getCultivoById(id)
- createCultivo(data)
- updateCultivo(id, data)
- deleteCultivo(id)
- getCultivosByTipo(tipo)

lotesService.ts:
- getLotes(filtros)
- getLoteById(id)
- createLote(data)
- updateLote(id, data)
- deleteLote(id)
- getLotesByCultivo(cultivoId)

laboresService.ts:
- getLabores(filtros: fecha, cultivo, lote, trabajador, tipo)
- getLaborById(id)
- createLabor(data)
- updateLabor(id, data)
- deleteLabor(id)
- getLaboresByFecha(fecha)
- getLaboresDelDia()

insumosService.ts:
- getInsumos(filtros)
- getInsumoById(id)
- createInsumo(data)
- updateInsumo(id, data)
- ajustarInventario(id, cantidad, motivo)
- getInsumosStockBajo()

actividadesService.ts:
- getActividades(filtros)
- createActividad(data)
- updateActividad(id, data)
- completarActividad(id, resultados)
- getActividadesPendientes()

trazabilidadService.ts:
- getTrazabilidadLote(loteId)
- registrarEvento(data)

Todos los servicios deben usar el mockDataService y simular delay de red.


PROMPT 2.3 - Hooks de React Query
--------------------------------------------------------------------------------
Crea src/hooks/queries/ con hooks personalizados:

useLaboresQuery.ts:
- useLabores(filtros)
- useLabor(id)
- useCreateLabor()
- useUpdateLabor()
- useDeleteLabor()
- useLaboresDelDia()

useTrabajadoresQuery.ts:
- useTrabajadores(filtros)
- useTrabajador(id)
- useCreateTrabajador()
- useUpdateTrabajador()
- useDeleteTrabajador()

useCultivosQuery.ts:
- useCultivos(filtros)
- useCultivo(id)
- useCreateCultivo()
- useUpdateCultivo()

useLotesQuery.ts:
- useLotes(filtros)
- useLote(id)
- useCreateLote()
- useUpdateLote()

useInsumosQuery.ts:
- useInsumos()
- useAjustarInventario()
- useInsumosStockBajo()

useActividadesQuery.ts:
- useActividades()
- useCreateActividad()
- useCompletarActividad()
- useActividadesPendientes()

useTrazabilidadQuery.ts:
- useTrazabilidadLote(loteId)

useEstadisticasQuery.ts:
- useEstadisticasDashboard()
- useEstadisticasCultivo(id)
- useEstadisticasTrabajador(id)
- useEstadisticasProduccion(fechaInicio, fechaFin)

Implementa invalidaci√≥n de cache autom√°tica y manejo de errores.


================================================================================
FASE 3: COMPONENTES UI BASE (1 hora)
================================================================================

PROMPT 3.1 - Componentes UI Adicionales
--------------------------------------------------------------------------------
Crea en src/components/ui/ los siguientes componentes usando shadcn/ui:

- select.tsx (dropdown de selecci√≥n)
- textarea.tsx (√°reas de texto)
- badge.tsx (etiquetas de estado)
- table.tsx (tablas responsivas)
- tabs.tsx (pesta√±as)
- calendar.tsx (calendario)
- checkbox.tsx (casillas de verificaci√≥n)
- radio-group.tsx (grupos de radio)
- alert.tsx (alertas y notificaciones)
- skeleton.tsx (loading skeletons)
- separator.tsx (separadores)
- scroll-area.tsx (√°reas con scroll)
- switch.tsx (interruptores)
- tooltip.tsx (tooltips informativos)

Aseg√∫rate de que todos est√©n estilizados con Tailwind y sean responsivos.


PROMPT 3.2 - Componentes Comunes Agr√≠colas
--------------------------------------------------------------------------------
Crea src/components/common/ con componentes reutilizables:

PageHeader.tsx:
- T√≠tulo, breadcrumbs, acciones principales
- Props: title, description, actions, breadcrumbs

LoadingSpinner.tsx:
- Spinner personalizado con mensaje
- Variantes: small, medium, large, fullscreen

EmptyState.tsx:
- Estado vac√≠o con icono, mensaje y acci√≥n
- Props: icon, title, description, action

ErrorMessage.tsx:
- Muestra errores con retry
- Props: error, onRetry

DataTable.tsx:
- Tabla gen√©rica con sorting, pagination, filtros
- Props: columns, data, pagination, onSort, onFilter

StatusBadge.tsx:
- Badge de estado con colores sem√°nticos
- Props: status, variant

SearchBar.tsx:
- Barra de b√∫squeda con filtros r√°pidos
- Props: onSearch, filters, placeholder

FilterPanel.tsx:
- Panel lateral de filtros avanzados
- Props: filters, onApply, onReset

ExportButton.tsx:
- Bot√≥n para exportar datos (Excel, PDF)
- Props: data, filename, format

StatCard.tsx:
- Tarjeta de estad√≠stica con icono y valor
- Props: title, value, icon, trend, color

DateRangePicker.tsx:
- Selector de rango de fechas
- Props: value, onChange, maxDate, minDate


PROMPT 3.3 - Componentes de Formulario Agr√≠cola
--------------------------------------------------------------------------------
Crea src/components/forms/ con componentes especializados:

CultivoSelect.tsx:
- Select de cultivos con b√∫squeda y preview

LoteSelect.tsx:
- Select de lotes filtrado por cultivo con mapa mini

TrabajadorSelect.tsx:
- Select de trabajadores con foto y cargo

TipoLaborSelect.tsx:
- Select de tipos de labor con iconos

UnidadMedidaInput.tsx:
- Input de cantidad con selector de unidad

CoordenadasGPSInput.tsx:
- Input de coordenadas con bot√≥n de captura actual
- Validaci√≥n de formato

CondicionesClimaInput.tsx:
- Selector de condiciones clim√°ticas con iconos

InsumoMultiSelect.tsx:
- Multi-select de insumos con cantidades

ImageUpload.tsx:
- Upload de im√°genes con preview y m√∫ltiples archivos
- Compresi√≥n autom√°tica

FechaHoraInput.tsx:
- Selector de fecha y hora combinado


================================================================================
FASE 4: M√ìDULO DE DASHBOARD (1 hora)
================================================================================

PROMPT 4.1 - Vista Principal del Dashboard
--------------------------------------------------------------------------------
Crea src/pages/dashboard/home/DashboardHomeView.tsx que incluya:

SECCI√ìN SUPERIOR:
- Bienvenida personalizada con nombre y fecha actual
- Resumen r√°pido: labores del d√≠a, trabajadores activos, alertas pendientes

TARJETAS DE ESTAD√çSTICAS:
- Total de labores registradas hoy
- Hect√°reas trabajadas hoy
- Kilogramos cosechados hoy
- Actividades pendientes
- Alertas cr√≠ticas (stock bajo, mantenimientos)

GR√ÅFICOS:
- Gr√°fico de labores por tipo (√∫ltimos 7 d√≠as) - Bar chart
- Gr√°fico de producci√≥n por cultivo (√∫ltimo mes) - Line chart
- Distribuci√≥n de actividades por estado - Donut chart

LISTA DE ACTIVIDADES DEL D√çA:
- Tabla con actividades programadas para hoy
- Estado, responsable, cultivo, lote
- Bot√≥n para marcar como completada

ALERTAS Y NOTIFICACIONES:
- Insumos con stock bajo
- Mantenimientos de maquinaria pr√≥ximos
- Actividades atrasadas
- Lotes que requieren atenci√≥n

ACCESOS R√ÅPIDOS:
- Bot√≥n para registrar nueva labor
- Bot√≥n para ver todas las labores
- Bot√≥n para gestionar trabajadores
- Bot√≥n para reportes

Usa recharts para los gr√°ficos.


PROMPT 4.2 - Componentes del Dashboard
--------------------------------------------------------------------------------
Crea src/pages/dashboard/home/components/:

ResumenDelDia.tsx:
- Widget con resumen de actividades del d√≠a actual

GraficoLaboresPorTipo.tsx:
- Gr√°fico de barras agrupado por tipo de labor

GraficoProduccionMensual.tsx:
- Gr√°fico de l√≠neas de producci√≥n

ActividadesPendientesWidget.tsx:
- Lista de actividades con acciones r√°pidas

AlertasWidget.tsx:
- Panel de alertas con niveles de prioridad

AccesosRapidosWidget.tsx:
- Grid de botones de acceso r√°pido

TrabajadoresEnCampoWidget.tsx:
- Lista de trabajadores activos con ubicaci√≥n


================================================================================
FASE 5: M√ìDULO DE LABORES (1.5 horas)
================================================================================

PROMPT 5.1 - Vista de Listado de Labores
--------------------------------------------------------------------------------
Crea src/pages/dashboard/labores/views/LaboresListView.tsx:

FILTROS SUPERIORES:
- Rango de fechas (√∫ltima semana por defecto)
- Cultivo (todos, o espec√≠fico)
- Lote (dependiente del cultivo)
- Trabajador
- Tipo de labor
- Estado de labor
- B√∫squeda por texto

TABLA DE LABORES:
Columnas: Fecha/Hora, Cultivo, Lote, Trabajador, Tipo de Labor, 
Cantidad, Peso, Estado, Acciones

- Sorting por cualquier columna
- Paginaci√≥n (20 por p√°gina)
- Acciones: Ver detalle, Editar, Eliminar
- Indicadores visuales de estado
- Click en fila para ver detalle

ACCIONES SUPERIORES:
- Bot√≥n "Nueva Labor" prominente
- Exportar a Excel
- Exportar a PDF
- Filtros avanzados

ESTAD√çSTICAS R√ÅPIDAS:
- Total de labores en el per√≠odo
- Total de hect√°reas trabajadas
- Total de kilogramos cosechados


PROMPT 5.2 - Formulario de Registro de Labor
--------------------------------------------------------------------------------
Crea src/pages/dashboard/labores/components/LaborForm.tsx:

FORMULARIO MULTI-PASO (3 pasos):

PASO 1 - Informaci√≥n B√°sica:
- Fecha y hora (default: ahora)
- Cultivo* (requerido)
- Lote* (requerido, filtrado por cultivo)
- Trabajador responsable* (requerido)
- Tipo de labor* (requerido)

PASO 2 - Detalles de la Labor:
- Descripci√≥n de la actividad
- Cantidad recolectada (si aplica)
- Unidad de medida
- Peso en kg/toneladas
- Coordenadas GPS (con bot√≥n "Usar ubicaci√≥n actual")
- Condiciones clim√°ticas
- Estado de la labor

PASO 3 - Recursos y Evidencias:
- Insumos utilizados (multi-select con cantidades)
- Maquinaria utilizada (multi-select)
- Observaciones adicionales
- Fotograf√≠as (m√°ximo 5, con preview)

VALIDACIONES:
- Campos requeridos marcados con *
- Validaci√≥n de formatos (GPS, n√∫meros)
- Validaci√≥n de disponibilidad de insumos
- Alertas si el stock de insumos queda bajo

FUNCIONALIDADES:
- Guardar como borrador
- Vista previa antes de enviar
- Bot√≥n de "Captura r√°pida" para labores simples
- Modo offline (guardar localmente y sincronizar despu√©s)

Botones: Anterior, Siguiente, Guardar Borrador, Registrar Labor


PROMPT 5.3 - Vistas de Detalle y Edici√≥n
--------------------------------------------------------------------------------
Crea las siguientes vistas:

src/pages/dashboard/labores/views/LaborDetailView.tsx:
- Muestra toda la informaci√≥n de la labor
- Galer√≠a de fotos
- Mapa con ubicaci√≥n GPS
- Lista de insumos y maquinaria utilizados
- Informaci√≥n del trabajador con foto
- Botones: Editar, Eliminar, Exportar, Compartir
- Timeline de cambios si hubo ediciones

src/pages/dashboard/labores/views/LaborCreateView.tsx:
- Wrapper que contiene LaborForm en modo creaci√≥n
- T√≠tulo: "Registrar Nueva Labor"

src/pages/dashboard/labores/views/LaborEditView.tsx:
- Wrapper que contiene LaborForm en modo edici√≥n
- Carga datos existentes
- T√≠tulo: "Editar Labor"


PROMPT 5.4 - Componentes del M√≥dulo de Labores
--------------------------------------------------------------------------------
Crea src/pages/dashboard/labores/components/:

LaboresTable.tsx:
- Tabla optimizada para labores con todas las columnas

LaborCard.tsx:
- Card para vista de grid alternativa

FiltrosLabores.tsx:
- Panel de filtros completo

LaborQuickCreate.tsx:
- Modal de creaci√≥n r√°pida con campos m√≠nimos

LaboresCalendar.tsx:
- Vista de calendario con labores

LaborExportDialog.tsx:
- Dialog para configurar exportaci√≥n


================================================================================
FASE 6: M√ìDULO DE TRABAJADORES (1 hora)
================================================================================

PROMPT 6.1 - Gesti√≥n de Trabajadores
--------------------------------------------------------------------------------
Crea las vistas completas de trabajadores:

src/pages/dashboard/trabajadores/views/TrabajadoresListView.tsx:
- Tabla con: Foto, Nombre Completo, Documento, Cargo, Tel√©fono, 
  Estado, Acciones
- Filtros: Cargo, Estado, B√∫squeda por nombre/documento
- Vista de grid con cards como alternativa
- Estad√≠sticas: Total activos, Por cargo
- Bot√≥n "Nuevo Trabajador"
- Exportar listado

src/pages/dashboard/trabajadores/views/TrabajadorCreateView.tsx:
- Formulario completo con todos los campos
- Upload de foto de perfil
- Validaci√≥n de documento √∫nico
- Secci√≥n de datos personales
- Secci√≥n de datos laborales
- Secci√≥n de contacto

src/pages/dashboard/trabajadores/views/TrabajadorDetailView.tsx:
- Perfil completo del trabajador
- Foto grande, datos completos
- Historial de labores realizadas
- Estad√≠sticas personales (labores completadas, hect√°reas trabajadas)
- Actividades asignadas
- Rendimiento y productividad
- Botones: Editar, Desactivar/Activar

src/pages/dashboard/trabajadores/views/TrabajadorEditView.tsx:
- Formulario de edici√≥n con datos precargados
- Igual estructura que create


PROMPT 6.2 - Componentes de Trabajadores
--------------------------------------------------------------------------------
Crea src/pages/dashboard/trabajadores/components/:

TrabajadorForm.tsx:
- Formulario reutilizable para crear/editar
- Campos agrupados en secciones

TrabajadoresTable.tsx:
- Tabla optimizada con sorting y filtros

TrabajadorCard.tsx:
- Card para vista de grid

TrabajadorAvatar.tsx:
- Avatar con foto o iniciales

HistorialLaboresTrabajador.tsx:
- Timeline de labores del trabajador

EstadisticasTrabajador.tsx:
- Dashboard de estad√≠sticas individuales


================================================================================
FASE 7: M√ìDULO DE CULTIVOS Y LOTES (1 hora)
================================================================================

PROMPT 7.1 - Gesti√≥n de Cultivos
--------------------------------------------------------------------------------
Crea src/pages/dashboard/cultivos/views/:

CultivosListView.tsx:
- Grid de cards con imagen, nombre, variedad, lotes asociados
- Filtros por tipo de cultivo
- B√∫squeda
- Estad√≠sticas: Total de cultivos, Hect√°reas totales
- Bot√≥n "Nuevo Cultivo"

CultivoCreateView.tsx:
- Formulario con: Nombre, Nombre cient√≠fico, Variedad, Tipo, 
  Ciclo en d√≠as, Descripci√≥n, Imagen
- Upload de imagen del cultivo

CultivoDetailView.tsx:
- Informaci√≥n completa del cultivo
- Lista de lotes asociados
- Estad√≠sticas: Total de lotes, √Årea total, Producci√≥n total
- Gr√°fico de producci√≥n hist√≥rica
- Historial de labores en este cultivo
- Pr√≥ximas actividades programadas

CultivoEditView.tsx:
- Formulario de edici√≥n


PROMPT 7.2 - Gesti√≥n de Lotes
--------------------------------------------------------------------------------
Crea src/pages/dashboard/lotes/views/:

LotesListView.tsx:
- Tabla con: C√≥digo, Nombre, Cultivo, √Årea (ha), Estado, 
  Ubicaci√≥n GPS, Acciones
- Filtros por cultivo, estado
- Vista de mapa con marcadores de todos los lotes
- Toggle entre vista tabla y vista mapa
- Bot√≥n "Nuevo Lote"

LoteCreateView.tsx:
- Formulario con: C√≥digo*, Nombre*, Cultivo*, √Årea en hect√°reas*, 
  Coordenadas GPS, Estado, Notas
- Selector de ubicaci√≥n en mapa interactivo
- Validaci√≥n de c√≥digo √∫nico

LoteDetailView.tsx:
- Informaci√≥n del lote
- Mapa grande con el marcador
- Informaci√≥n del cultivo asociado
- Historial completo de labores en el lote
- Trazabilidad completa
- Estad√≠sticas de producci√≥n del lote
- Timeline de eventos
- Pr√≥ximas actividades

LoteEditView.tsx:
- Formulario de edici√≥n


PROMPT 7.3 - Componentes de Cultivos y Lotes
--------------------------------------------------------------------------------
Crea src/pages/dashboard/cultivos/components/ y 
src/pages/dashboard/lotes/components/:

CultivoForm.tsx:
- Formulario reutilizable

CultivoCard.tsx:
- Card visual con imagen

LoteForm.tsx:
- Formulario con selector de mapa

LoteCard.tsx:
- Card de lote

MapaLotes.tsx:
- Mapa interactivo con todos los lotes usando Leaflet o Google Maps
- Marcadores clicables
- Filtros de cultivo en el mapa

TrazabilidadTimeline.tsx:
- Timeline visual de eventos del lote

EstadisticasLote.tsx:
- Stats del lote


================================================================================
FASE 8: M√ìDULO DE INVENTARIO DE INSUMOS (45 minutos)
================================================================================

PROMPT 8.1 - Gesti√≥n de Insumos
--------------------------------------------------------------------------------
Crea src/pages/dashboard/insumos/views/:

InsumosListView.tsx:
- Tabla: Nombre, Tipo, Cantidad Disponible, Unidad, Stock M√≠nimo, 
  Estado (indicador visual), Acciones
- Filtros por tipo, estado de stock
- B√∫squeda
- Alertas de stock bajo destacadas
- Botones: Nuevo Insumo, Ajustar Inventario
- Exportar inventario

InsumoCreateView.tsx:
- Formulario: Nombre*, Tipo*, Unidad*, Cantidad inicial, 
  Stock m√≠nimo, Costo unitario, Proveedor, Fecha de vencimiento, 
  Ubicaci√≥n en almac√©n

InsumoDetailView.tsx:
- Informaci√≥n completa
- Historial de movimientos (entradas, salidas, ajustes)
- Gr√°fico de consumo mensual
- Alertas de vencimiento
- Labores donde se ha utilizado
- Botones: Editar, Ajustar Inventario

AjustarInventarioView.tsx:
- Formulario para ajustar cantidad
- Tipo de movimiento (Entrada, Salida, Ajuste, Merma)
- Cantidad
- Motivo
- Fecha
- Observaciones


PROMPT 8.2 - Componentes de Insumos
--------------------------------------------------------------------------------
Crea src/pages/dashboard/insumos/components/:

InsumoForm.tsx:
- Formulario reutilizable

InsumosTable.tsx:
- Tabla con indicadores de stock

InsumoStockBadge.tsx:
- Badge de estado de stock con colores

AjusteInventarioForm.tsx:
- Formulario de ajuste

HistorialMovimientos.tsx:
- Tabla de movimientos

AlertasStockBajo.tsx:
- Widget de alertas


================================================================================
FASE 9: M√ìDULO DE PLANIFICACI√ìN (45 minutos)
================================================================================

PROMPT 9.1 - Planificaci√≥n de Actividades
--------------------------------------------------------------------------------
Crea src/pages/dashboard/planificacion/views/:

PlanificacionView.tsx:
- Vista principal con calendario mensual
- Actividades marcadas en el calendario por fecha
- Colores por tipo de labor
- Panel lateral con actividades del d√≠a seleccionado
- Filtros por cultivo, trabajador, estado
- Botones: Nueva Actividad, Vista Semanal, Vista Mensual

ActividadCreateView.tsx:
- Formulario: T√≠tulo*, Descripci√≥n, Fecha programada*, 
  Hora estimada, Cultivo, Lote, Trabajador asignado, 
  Tipo de labor, Prioridad, Duraci√≥n estimada, Notas

ActividadDetailView.tsx:
- Informaci√≥n completa
- Estado actual
- Resultados al completar
- Botones: Editar, Completar, Cancelar, Asignar Trabajador


PROMPT 9.2 - Componentes de Planificaci√≥n
--------------------------------------------------------------------------------
Crea src/pages/dashboard/planificacion/components/:

CalendarioActividades.tsx:
- Calendario interactivo con actividades
- Usa react-big-calendar o similar

ActividadForm.tsx:
- Formulario reutilizable

ListaActividades.tsx:
- Lista de actividades con filtros

ActividadCard.tsx:
- Card de actividad

CompletarActividadDialog.tsx:
- Modal para completar con resultados


================================================================================
FASE 10: M√ìDULO DE REPORTES (1 hora)
================================================================================

PROMPT 10.1 - Vista Principal de Reportes
--------------------------------------------------------------------------------
Crea src/pages/dashboard/reportes/ReportesView.tsx:

NAVEGACI√ìN POR PESTA√ëAS:
- Resumen General
- Reportes por Cultivo
- Reportes por Trabajador
- Reportes de Producci√≥n
- Reportes de Insumos

PESTA√ëA RESUMEN GENERAL:
- Selector de rango de fechas
- Cards con KPIs principales:
  * Total de labores realizadas
  * Hect√°reas trabajadas
  * Producci√≥n total (kg)
  * Trabajadores activos
  * Insumos utilizados
- Gr√°fico de labores por tipo
- Gr√°fico de producci√≥n por cultivo
- Tabla de top 5 cultivos m√°s productivos
- Tabla de top 5 trabajadores m√°s activos

PESTA√ëA POR CULTIVO:
- Selector de cultivo
- Selector de rango de fechas
- Estad√≠sticas del cultivo
- Gr√°fico de producci√≥n en el tiempo
- Tabla de labores realizadas
- Rendimiento por hect√°rea
- Costo de insumos
- Bot√≥n exportar reporte

PESTA√ëA POR TRABAJADOR:
- Selector de trabajador
- Selector de rango de fechas
- Estad√≠sticas del trabajador
- Labores completadas
- Producci√≥n recolectada
- Gr√°fico de productividad
- Tabla detallada de actividades

PESTA√ëA DE PRODUCCI√ìN:
- Comparativas entre cultivos
- Tendencias de producci√≥n
- Proyecciones
- An√°lisis de rendimiento

PESTA√ëA DE INSUMOS:
- Consumo por tipo
- Costo total
- Eficiencia de uso


PROMPT 10.2 - Componentes de Reportes
--------------------------------------------------------------------------------
Crea src/pages/dashboard/reportes/components/:

ReporteResumenGeneral.tsx:
- Dashboard con todos los KPIs

ReportePorCultivo.tsx:
- Reporte detallado de cultivo

ReportePorTrabajador.tsx:
- Reporte detallado de trabajador

ReporteProduccion.tsx:
- An√°lisis de producci√≥n

ReporteInsumos.tsx:
- An√°lisis de insumos

GraficoComparativo.tsx:
- Gr√°ficos de comparaci√≥n

ExportReportButton.tsx:
- Bot√≥n con opciones de exportaci√≥n

FiltrosReporte.tsx:
- Panel de filtros para reportes


================================================================================
FASE 11: INTEGRACI√ìN Y NAVEGACI√ìN (1 hora)
================================================================================

PROMPT 11.1 - Configuraci√≥n de Rutas
--------------------------------------------------------------------------------
Actualiza src/App.tsx con todas las rutas del sistema:

RUTAS P√öBLICAS:
- / -> LandingPage
- /login -> LoginView
- /registro -> RegisterView
- /recuperar-password -> ForgotPasswordView

RUTAS PROTEGIDAS (requieren autenticaci√≥n):
- /dashboard -> DashboardHomeView
- /dashboard/labores -> LaboresListView
- /dashboard/labores/nueva -> LaborCreateView
- /dashboard/labores/:id -> LaborDetailView
- /dashboard/labores/:id/editar -> LaborEditView
- /dashboard/trabajadores -> TrabajadoresListView
- /dashboard/trabajadores/nuevo -> TrabajadorCreateView
- /dashboard/trabajadores/:id -> TrabajadorDetailView
- /dashboard/trabajadores/:id/editar -> TrabajadorEditView
- /dashboard/cultivos -> CultivosListView
- /dashboard/cultivos/nuevo -> CultivoCreateView
- /dashboard/cultivos/:id -> CultivoDetailView
- /dashboard/cultivos/:id/editar -> CultivoEditView
- /dashboard/lotes -> LotesListView
- /dashboard/lotes/nuevo -> LoteCreateView
- /dashboard/lotes/:id -> LoteDetailView
- /dashboard/lotes/:id/editar -> LoteEditView
- /dashboard/insumos -> InsumosListView
- /dashboard/insumos/nuevo -> InsumoCreateView
- /dashboard/insumos/:id -> InsumoDetailView
- /dashboard/insumos/:id/ajustar -> AjustarInventarioView
- /dashboard/planificacion -> PlanificacionView
- /dashboard/planificacion/nueva -> ActividadCreateView
- /dashboard/planificacion/:id -> ActividadDetailView
- /dashboard/reportes -> ReportesView
- /dashboard/trazabilidad/:loteId -> TrazabilidadView

Configura React Router con lazy loading para optimizaci√≥n.


PROMPT 11.2 - Layout del Dashboard
--------------------------------------------------------------------------------
Actualiza src/components/layouts/DashboardLayout.tsx:

SIDEBAR:
- Logo del sistema "AgroGest"
- Men√∫ de navegaci√≥n con iconos:
  * üè† Inicio
  * üìã Labores Agr√≠colas
  * üë• Trabajadores
  * üå± Cultivos
  * üìç Lotes
  * üì¶ Inventario de Insumos
  * üìÖ Planificaci√≥n
  * üìä Reportes
  * üîç Trazabilidad
- Indicadores de notificaciones
- Usuario actual con dropdown
- Bot√≥n de cerrar sesi√≥n

HEADER:
- Breadcrumbs din√°micos
- Barra de b√∫squeda global
- Notificaciones con badge
- Perfil de usuario con men√∫

CONTENIDO:
- √Årea principal responsiva
- Scroll independiente

RESPONSIVE:
- Sidebar colapsable en m√≥vil
- Men√∫ hamburguesa
- Optimizado para tablets


PROMPT 11.3 - B√∫squeda Global
--------------------------------------------------------------------------------
Crea src/components/common/GlobalSearch.tsx:

- Barra de b√∫squeda en el header
- B√∫squeda en tiempo real mientras se escribe
- Resultados agrupados por categor√≠a:
  * Labores
  * Trabajadores
  * Cultivos
  * Lotes
  * Insumos
- Navegaci√≥n con teclado (arrows, enter, esc)
- Resultados con preview
- L√≠mite de 5 resultados por categor√≠a
- Link "Ver todos" para cada categor√≠a


================================================================================
FASE 12: M√ìDULO DE ROLES Y PERMISOS (1 hora)
================================================================================

PROMPT 12.1 - Modelo de Datos de Roles y Permisos
--------------------------------------------------------------------------------
Crea src/types/roles.ts con el sistema completo de roles:

INTERFACES:
```typescript
// Roles del sistema
enum RolUsuario {
  SUPER_ADMIN = 'SUPER_ADMIN',
  ADMINISTRADOR = 'ADMINISTRADOR',
  SUPERVISOR = 'SUPERVISOR',
  TECNICO_AGRICOLA = 'TECNICO_AGRICOLA',
  TRABAJADOR_CAMPO = 'TRABAJADOR_CAMPO',
  CONTADOR = 'CONTADOR',
  SOLO_LECTURA = 'SOLO_LECTURA'
}

// Permisos granulares
enum Permiso {
  // Labores
  LABORES_VER = 'labores:ver',
  LABORES_CREAR = 'labores:crear',
  LABORES_EDITAR = 'labores:editar',
  LABORES_ELIMINAR = 'labores:eliminar',
  LABORES_EXPORTAR = 'labores:exportar',
  
  // Trabajadores
  TRABAJADORES_VER = 'trabajadores:ver',
  TRABAJADORES_CREAR = 'trabajadores:crear',
  TRABAJADORES_EDITAR = 'trabajadores:editar',
  TRABAJADORES_ELIMINAR = 'trabajadores:eliminar',
  TRABAJADORES_VER_SALARIOS = 'trabajadores:ver_salarios',
  
  // Cultivos
  CULTIVOS_VER = 'cultivos:ver',
  CULTIVOS_CREAR = 'cultivos:crear',
  CULTIVOS_EDITAR = 'cultivos:editar',
  CULTIVOS_ELIMINAR = 'cultivos:eliminar',
  
  // Lotes
  LOTES_VER = 'lotes:ver',
  LOTES_CREAR = 'lotes:crear',
  LOTES_EDITAR = 'lotes:editar',
  LOTES_ELIMINAR = 'lotes:eliminar',
  
  // Insumos
  INSUMOS_VER = 'insumos:ver',
  INSUMOS_CREAR = 'insumos:crear',
  INSUMOS_EDITAR = 'insumos:editar',
  INSUMOS_AJUSTAR = 'insumos:ajustar',
  INSUMOS_VER_COSTOS = 'insumos:ver_costos',
  
  // Actividades
  ACTIVIDADES_VER = 'actividades:ver',
  ACTIVIDADES_CREAR = 'actividades:crear',
  ACTIVIDADES_EDITAR = 'actividades:editar',
  ACTIVIDADES_COMPLETAR = 'actividades:completar',
  
  // Reportes
  REPORTES_VER = 'reportes:ver',
  REPORTES_EXPORTAR = 'reportes:exportar',
  REPORTES_FINANCIEROS = 'reportes:financieros',
  
  // Trazabilidad
  TRAZABILIDAD_VER = 'trazabilidad:ver',
  TRAZABILIDAD_EXPORTAR = 'trazabilidad:exportar',
  
  // Configuraci√≥n
  CONFIGURACION_VER = 'configuracion:ver',
  CONFIGURACION_EDITAR = 'configuracion:editar',
  
  // Usuarios
  USUARIOS_VER = 'usuarios:ver',
  USUARIOS_CREAR = 'usuarios:crear',
  USUARIOS_EDITAR = 'usuarios:editar',
  USUARIOS_ELIMINAR = 'usuarios:eliminar',
  USUARIOS_GESTIONAR_ROLES = 'usuarios:gestionar_roles'
}

interface Usuario {
  id: string;
  nombres: string;
  apellidos: string;
  email: string;
  rol: RolUsuario;
  permisos_adicionales?: Permiso[];
  permisos_revocados?: Permiso[];
  trabajador_id?: string; // Si est√° asociado a un trabajador
  estado: 'ACTIVO' | 'INACTIVO' | 'BLOQUEADO';
  foto_perfil?: string;
  fecha_creacion: Date;
  ultimo_acceso?: Date;
}

interface RolConfig {
  nombre: RolUsuario;
  descripcion: string;
  permisos: Permiso[];
  color: string;
  icono: string;
}
```

MATRIZ DE PERMISOS POR ROL:
Definir claramente qu√© puede hacer cada rol.


PROMPT 12.2 - Configuraci√≥n de Roles
--------------------------------------------------------------------------------
Crea src/config/rolesConfig.ts con la matriz completa de permisos:

```typescript
export const ROLES_CONFIG: Record<RolUsuario, RolConfig> = {
  [RolUsuario.SUPER_ADMIN]: {
    nombre: RolUsuario.SUPER_ADMIN,
    descripcion: 'Acceso total al sistema, incluye gesti√≥n de usuarios',
    color: 'purple',
    icono: 'üëë',
    permisos: [
      // Todos los permisos
      ...Object.values(Permiso)
    ]
  },
  
  [RolUsuario.ADMINISTRADOR]: {
    nombre: RolUsuario.ADMINISTRADOR,
    descripcion: 'Gesti√≥n completa excepto usuarios del sistema',
    color: 'blue',
    icono: '‚öôÔ∏è',
    permisos: [
      // Labores - todos
      Permiso.LABORES_VER,
      Permiso.LABORES_CREAR,
      Permiso.LABORES_EDITAR,
      Permiso.LABORES_ELIMINAR,
      Permiso.LABORES_EXPORTAR,
      
      // Trabajadores - todos
      Permiso.TRABAJADORES_VER,
      Permiso.TRABAJADORES_CREAR,
      Permiso.TRABAJADORES_EDITAR,
      Permiso.TRABAJADORES_ELIMINAR,
      Permiso.TRABAJADORES_VER_SALARIOS,
      
      // Cultivos y Lotes - todos
      Permiso.CULTIVOS_VER,
      Permiso.CULTIVOS_CREAR,
      Permiso.CULTIVOS_EDITAR,
      Permiso.CULTIVOS_ELIMINAR,
      Permiso.LOTES_VER,
      Permiso.LOTES_CREAR,
      Permiso.LOTES_EDITAR,
      Permiso.LOTES_ELIMINAR,
      
      // Insumos - todos
      Permiso.INSUMOS_VER,
      Permiso.INSUMOS_CREAR,
      Permiso.INSUMOS_EDITAR,
      Permiso.INSUMOS_AJUSTAR,
      Permiso.INSUMOS_VER_COSTOS,
      
      // Actividades - todos
      Permiso.ACTIVIDADES_VER,
      Permiso.ACTIVIDADES_CREAR,
      Permiso.ACTIVIDADES_EDITAR,
      Permiso.ACTIVIDADES_COMPLETAR,
      
      // Reportes - todos
      Permiso.REPORTES_VER,
      Permiso.REPORTES_EXPORTAR,
      Permiso.REPORTES_FINANCIEROS,
      
      // Trazabilidad
      Permiso.TRAZABILIDAD_VER,
      Permiso.TRAZABILIDAD_EXPORTAR,
      
      // Configuraci√≥n
      Permiso.CONFIGURACION_VER,
      Permiso.CONFIGURACION_EDITAR
    ]
  },
  
  [RolUsuario.SUPERVISOR]: {
    nombre: RolUsuario.SUPERVISOR,
    descripcion: 'Supervisi√≥n de operaciones, edici√≥n limitada',
    color: 'green',
    icono: 'üë®‚Äçüíº',
    permisos: [
      // Labores - ver, crear, editar (no eliminar)
      Permiso.LABORES_VER,
      Permiso.LABORES_CREAR,
      Permiso.LABORES_EDITAR,
      Permiso.LABORES_EXPORTAR,
      
      // Trabajadores - ver y editar
      Permiso.TRABAJADORES_VER,
      Permiso.TRABAJADORES_EDITAR,
      
      // Cultivos y Lotes - ver
      Permiso.CULTIVOS_VER,
      Permiso.LOTES_VER,
      
      // Insumos - ver y ajustar
      Permiso.INSUMOS_VER,
      Permiso.INSUMOS_AJUSTAR,
      
      // Actividades - todos
      Permiso.ACTIVIDADES_VER,
      Permiso.ACTIVIDADES_CREAR,
      Permiso.ACTIVIDADES_EDITAR,
      Permiso.ACTIVIDADES_COMPLETAR,
      
      // Reportes - ver y exportar
      Permiso.REPORTES_VER,
      Permiso.REPORTES_EXPORTAR,
      
      // Trazabilidad
      Permiso.TRAZABILIDAD_VER,
      Permiso.TRAZABILIDAD_EXPORTAR
    ]
  },
  
  [RolUsuario.TECNICO_AGRICOLA]: {
    nombre: RolUsuario.TECNICO_AGRICOLA,
    descripcion: 'T√©cnico especializado en labores agr√≠colas',
    color: 'teal',
    icono: 'üå±',
    permisos: [
      // Labores - ver, crear, editar
      Permiso.LABORES_VER,
      Permiso.LABORES_CREAR,
      Permiso.LABORES_EDITAR,
      
      // Trabajadores - solo ver
      Permiso.TRABAJADORES_VER,
      
      // Cultivos y Lotes - ver
      Permiso.CULTIVOS_VER,
      Permiso.LOTES_VER,
      
      // Insumos - ver
      Permiso.INSUMOS_VER,
      
      // Actividades - ver y completar
      Permiso.ACTIVIDADES_VER,
      Permiso.ACTIVIDADES_COMPLETAR,
      
      // Reportes - ver
      Permiso.REPORTES_VER,
      
      // Trazabilidad
      Permiso.TRAZABILIDAD_VER
    ]
  },
  
  [RolUsuario.TRABAJADOR_CAMPO]: {
    nombre: RolUsuario.TRABAJADOR_CAMPO,
    descripcion: 'Trabajador de campo, registro de labores propias',
    color: 'amber',
    icono: 'üë∑',
    permisos: [
      // Labores - solo ver y crear propias
      Permiso.LABORES_VER,
      Permiso.LABORES_CREAR,
      
      // Cultivos y Lotes - ver
      Permiso.CULTIVOS_VER,
      Permiso.LOTES_VER,
      
      // Actividades - ver asignadas
      Permiso.ACTIVIDADES_VER,
      Permiso.ACTIVIDADES_COMPLETAR,
      
      // Trazabilidad - ver
      Permiso.TRAZABILIDAD_VER
    ]
  },
  
  [RolUsuario.CONTADOR]: {
    nombre: RolUsuario.CONTADOR,
    descripcion: 'Acceso a informaci√≥n financiera y reportes',
    color: 'indigo',
    icono: 'üí∞',
    permisos: [
      // Labores - solo ver
      Permiso.LABORES_VER,
      Permiso.LABORES_EXPORTAR,
      
      // Trabajadores - ver con salarios
      Permiso.TRABAJADORES_VER,
      Permiso.TRABAJADORES_VER_SALARIOS,
      
      // Insumos - ver con costos
      Permiso.INSUMOS_VER,
      Permiso.INSUMOS_VER_COSTOS,
      
      // Reportes - todos incluidos financieros
      Permiso.REPORTES_VER,
      Permiso.REPORTES_EXPORTAR,
      Permiso.REPORTES_FINANCIEROS
    ]
  },
  
  [RolUsuario.SOLO_LECTURA]: {
    nombre: RolUsuario.SOLO_LECTURA,
    descripcion: 'Solo visualizaci√≥n de informaci√≥n',
    color: 'gray',
    icono: 'üëÅÔ∏è',
    permisos: [
      Permiso.LABORES_VER,
      Permiso.TRABAJADORES_VER,
      Permiso.CULTIVOS_VER,
      Permiso.LOTES_VER,
      Permiso.INSUMOS_VER,
      Permiso.ACTIVIDADES_VER,
      Permiso.REPORTES_VER,
      Permiso.TRAZABILIDAD_VER
    ]
  }
};
```


PROMPT 12.3 - Servicio de Autenticaci√≥n y Autorizaci√≥n
--------------------------------------------------------------------------------
Actualiza src/stores/authStore.ts para incluir gesti√≥n completa de roles:

```typescript
interface AuthState {
  usuario: Usuario | null;
  token: string | null;
  isAuthenticated: boolean;
  isLoading: boolean;
  
  // Acciones
  login: (email: string, password: string) => Promise<void>;
  logout: () => void;
  verificarPermiso: (permiso: Permiso) => boolean;
  verificarPermisos: (permisos: Permiso[]) => boolean;
  verificarRol: (roles: RolUsuario[]) => boolean;
  puedeEditar: (recurso: string, idRecurso: string) => boolean;
}

// Usuarios de demostraci√≥n
const USUARIOS_DEMO = [
  {
    id: '1',
    nombres: 'Carlos',
    apellidos: 'Administrador',
    email: 'admin@agro.com',
    password: 'admin123',
    rol: RolUsuario.ADMINISTRADOR,
    estado: 'ACTIVO'
  },
  {
    id: '2',
    nombres: 'Mar√≠a',
    apellidos: 'Supervisora',
    email: 'supervisor@agro.com',
    password: 'super123',
    rol: RolUsuario.SUPERVISOR,
    estado: 'ACTIVO'
  },
  {
    id: '3',
    nombres: 'Juan',
    apellidos: 'T√©cnico',
    email: 'tecnico@agro.com',
    password: 'tecnico123',
    rol: RolUsuario.TECNICO_AGRICOLA,
    trabajador_id: 't001',
    estado: 'ACTIVO'
  },
  {
    id: '4',
    nombres: 'Pedro',
    apellidos: 'Campo',
    email: 'trabajador@agro.com',
    password: 'trab123',
    rol: RolUsuario.TRABAJADOR_CAMPO,
    trabajador_id: 't002',
    estado: 'ACTIVO'
  },
  {
    id: '5',
    nombres: 'Ana',
    apellidos: 'Contadora',
    email: 'contador@agro.com',
    password: 'cont123',
    rol: RolUsuario.CONTADOR,
    estado: 'ACTIVO'
  }
];
```

Implementar funciones:
- verificarPermiso: Verifica si el usuario tiene un permiso espec√≠fico
- verificarPermisos: Verifica m√∫ltiples permisos (todos requeridos)
- verificarRol: Verifica si el usuario tiene uno de los roles especificados
- puedeEditar: L√≥gica especial (ej: trabajador solo edita sus propias labores)


PROMPT 12.4 - Utilidades y Hooks de Permisos
--------------------------------------------------------------------------------
Crea src/utils/permissions.ts:

```typescript
import { useAuthStore } from '@/stores/authStore';
import { Permiso, RolUsuario } from '@/types/roles';

// Hook para verificar permisos
export const usePermissions = () => {
  const { verificarPermiso, verificarPermisos, verificarRol } = useAuthStore();
  
  return {
    tienePermiso: verificarPermiso,
    tienePermisos: verificarPermisos,
    tieneRol: verificarRol,
    esAdmin: () => verificarRol([RolUsuario.SUPER_ADMIN, RolUsuario.ADMINISTRADOR]),
    esSupervisor: () => verificarRol([RolUsuario.SUPERVISOR]),
    esTrabajador: () => verificarRol([RolUsuario.TRABAJADOR_CAMPO])
  };
};

// HOC para proteger componentes
export const ConPermiso = ({ 
  permiso, 
  permisos, 
  children, 
  fallback = null 
}: {
  permiso?: Permiso;
  permisos?: Permiso[];
  children: React.ReactNode;
  fallback?: React.ReactNode;
}) => {
  const { verificarPermiso, verificarPermisos } = useAuthStore();
  
  if (permiso && !verificarPermiso(permiso)) {
    return fallback;
  }
  
  if (permisos && !verificarPermisos(permisos)) {
    return fallback;
  }
  
  return children;
};

// HOC para proteger por rol
export const ConRol = ({ 
  roles, 
  children, 
  fallback = null 
}: {
  roles: RolUsuario[];
  children: React.ReactNode;
  fallback?: React.ReactNode;
}) => {
  const { verificarRol } = useAuthStore();
  
  if (!verificarRol(roles)) {
    return fallback;
  }
  
  return children;
};
```


PROMPT 12.5 - M√≥dulo de Gesti√≥n de Usuarios
--------------------------------------------------------------------------------
Crea src/pages/dashboard/usuarios/views/:

UsuariosListView.tsx:
- Tabla con: Avatar, Nombre, Email, Rol (con badge de color), 
  Estado, √öltimo acceso, Acciones
- Filtros por rol, estado
- B√∫squeda por nombre o email
- Solo visible para ADMIN y SUPER_ADMIN
- Bot√≥n "Nuevo Usuario"
- Indicadores visuales de usuarios conectados

UsuarioCreateView.tsx:
- Formulario:
  * Datos personales (nombres, apellidos, email)
  * Contrase√±a inicial
  * Rol (selector con descripci√≥n de cada rol)
  * Asociar a trabajador existente (opcional)
  * Permisos adicionales (multi-select)
  * Permisos revocados (multi-select)
  * Estado inicial
  * Foto de perfil
- Preview de permisos efectivos del usuario
- Solo SUPER_ADMIN puede crear otros SUPER_ADMIN

UsuarioDetailView.tsx:
- Informaci√≥n completa del usuario
- Badge de rol con color
- Lista de permisos efectivos
- Permisos adicionales concedidos
- Permisos revocados
- Historial de acceso
- Actividad reciente
- Botones: Editar, Cambiar Contrase√±a, Bloquear/Desbloquear

UsuarioEditView.tsx:
- Formulario de edici√≥n
- No permite cambiar el email
- Permite cambiar rol (solo SUPER_ADMIN)
- Gestionar permisos adicionales


PROMPT 12.6 - Componentes de Gesti√≥n de Usuarios
--------------------------------------------------------------------------------
Crea src/pages/dashboard/usuarios/components/:

UsuarioForm.tsx:
- Formulario completo reutilizable
- Selector de rol con tarjetas visuales
- Preview de permisos en tiempo real

RolBadge.tsx:
- Badge visual del rol con icono y color

PermisosManager.tsx:
- Componente para gestionar permisos adicionales y revocados
- Agrupados por categor√≠a (Labores, Trabajadores, etc.)
- Checkboxes con descripciones
- Indicadores de permisos heredados del rol

UsuarioAvatar.tsx:
- Avatar con estado (online/offline)
- Indicador de rol

CambiarPasswordDialog.tsx:
- Modal para cambiar contrase√±a
- Validaciones de seguridad

HistorialAccesoTable.tsx:
- Tabla de sesiones del usuario


PROMPT 12.7 - Protecci√≥n de Rutas y Componentes
--------------------------------------------------------------------------------
Actualiza src/components/auth/ProtectedRoute.tsx para incluir permisos:

```typescript
interface ProtectedRouteProps {
  children: React.ReactNode;
  requiereRoles?: RolUsuario[];
  requierePermiso?: Permiso;
  requierePermisos?: Permiso[];
  redirigirA?: string;
}

const ProtectedRoute = ({ 
  children, 
  requiereRoles,
  requierePermiso,
  requierePermisos,
  redirigirA = '/dashboard'
}: ProtectedRouteProps) => {
  const { usuario, verificarRol, verificarPermiso, verificarPermisos } = useAuthStore();
  
  // Verificar autenticaci√≥n
  if (!usuario) {
    return <Navigate to="/login" />;
  }
  
  // Verificar roles
  if (requiereRoles && !verificarRol(requiereRoles)) {
    return <AccesoDenegado />;
  }
  
  // Verificar permiso √∫nico
  if (requierePermiso && !verificarPermiso(requierePermiso)) {
    return <AccesoDenegado />;
  }
  
  // Verificar m√∫ltiples permisos
  if (requierePermisos && !verificarPermisos(requierePermisos)) {
    return <AccesoDenegado />;
  }
  
  return children;
};
```

Crear componente AccesoDenegado.tsx:
- P√°gina amigable de acceso denegado
- Explicar por qu√© no tiene acceso
- Bot√≥n para volver al dashboard
- Enlace para solicitar permisos


PROMPT 12.8 - Aplicar Permisos en Toda la Aplicaci√≥n
--------------------------------------------------------------------------------
Actualizar TODOS los componentes para respetar permisos:

EJEMPLO EN LABORES:
```typescript
// En LaboresListView.tsx
const { tienePermiso } = usePermissions();

// Bot√≥n de crear
{tienePermiso(Permiso.LABORES_CREAR) && (
  <Button onClick={() => navigate('/dashboard/labores/nueva')}>
    Nueva Labor
  </Button>
)}

// Bot√≥n de editar en tabla
{tienePermiso(Permiso.LABORES_EDITAR) && (
  <Button onClick={() => handleEdit(labor.id)}>Editar</Button>
)}

// Bot√≥n de eliminar
{tienePermiso(Permiso.LABORES_ELIMINAR) && (
  <Button onClick={() => handleDelete(labor.id)}>Eliminar</Button>
)}
```

Aplicar en:
- Botones de acci√≥n
- Men√∫s de navegaci√≥n
- Campos de formulario
- Pesta√±as
- Secciones completas


PROMPT 12.9 - Vista de Configuraci√≥n de Roles
--------------------------------------------------------------------------------
Crea src/pages/dashboard/roles/RolesConfigView.tsx:

Solo para SUPER_ADMIN:
- Tabla de todos los roles disponibles
- Card de cada rol con:
  * Nombre y descripci√≥n
  * Color e icono
  * Cantidad de usuarios con ese rol
  * Lista completa de permisos
  * Bot√≥n "Ver permisos detallados"
- Comparador de roles (seleccionar 2 roles y ver diferencias)
- Matriz de permisos visual

RolDetailDialog.tsx:
- Modal con detalles completos del rol
- Lista de permisos agrupados por categor√≠a
- Lista de usuarios con ese rol
- Sugerencias de uso


PROMPT 12.10 - Auditor√≠a y Logs
--------------------------------------------------------------------------------
Crea src/services/auditService.ts:

Registrar eventos importantes:
- Inicio de sesi√≥n
- Cierre de sesi√≥n
- Cambios de rol
- Concesi√≥n/revocaci√≥n de permisos
- Acceso denegado
- Cambios en datos sensibles

Interface AuditLog:
```typescript
interface AuditLog {
  id: string;
  fecha_hora: Date;
  usuario_id: string;
  usuario_nombre: string;
  accion: string;
  recurso: string;
  recurso_id?: string;
  detalles: any;
  ip_address?: string;
  user_agent?: string;
}
```

Vista de auditor√≠a (solo SUPER_ADMIN):
- Tabla de logs
- Filtros por usuario, acci√≥n, fecha
- Exportar logs


PROMPT 12.11 - Indicadores Visuales de Permisos
--------------------------------------------------------------------------------
Crear componentes visuales para mostrar permisos:

PermisosBadgeGroup.tsx:
- Grupo de badges de permisos
- Colores por categor√≠a

MatrizPermisosTable.tsx:
- Tabla comparativa de roles y permisos
- Checkmarks visuales

RolComparator.tsx:
- Comparador visual de 2 roles
- Diferencias destacadas


PROMPT 12.12 - Testing de Permisos
--------------------------------------------------------------------------------
Crear checklist de testing:

Verificar para cada rol:
- [ ] Login exitoso
- [ ] Navegaci√≥n solo muestra opciones permitidas
- [ ] Botones solo aparecen si tiene permiso
- [ ] Rutas protegidas correctamente
- [ ] API respeta permisos (mock)
- [ ] No puede acceder a recursos no permitidos
- [ ] Mensajes de acceso denegado apropiados

Crear documento TESTING_ROLES.md con matriz completa.


================================================================================
FASE 13: FUNCIONALIDADES AVANZADAS (1 hora)
================================================================================

PROMPT 13.1 - Sistema de Sincronizaci√≥n Offline
--------------------------------------------------------------------------------
Crea src/services/offlineService.ts:

- Detectar estado de conexi√≥n
- Cola de operaciones pendientes
- Almacenar operaciones en IndexedDB o localStorage
- Sincronizar autom√°ticamente al recuperar conexi√≥n
- Mostrar indicador de modo offline
- Resolver conflictos de sincronizaci√≥n
- Notificar al usuario del estado de sincronizaci√≥n

Crea src/components/common/OfflineIndicator.tsx:
- Banner superior cuando est√° offline
- Estado de sincronizaci√≥n
- Contador de operaciones pendientes


PROMPT 12.2 - Sistema de Exportaci√≥n
--------------------------------------------------------------------------------
Crea src/services/exportService.ts:

Funciones para exportar a:
- Excel (usando xlsx o similar):
  * Exportar labores
  * Exportar trabajadores
  * Exportar inventario
  * Exportar reportes
  * M√∫ltiples hojas
  * Formato con colores y estilos

- PDF (usando jsPDF o similar):
  * Reportes formateados
  * Logo y encabezado
  * Tablas con paginaci√≥n
  * Gr√°ficos incluidos
  * Pie de p√°gina con fecha

- CSV:
  * Datos tabulares simples


PROMPT 12.3 - Sistema de Permisos y Roles
--------------------------------------------------------------------------------
Actualiza src/stores/authStore.ts para incluir roles:

ROLES:
- ADMIN: Acceso total
- SUPERVISOR: Lectura total, edici√≥n parcial
- TRABAJADOR: Solo registrar labores propias

Crea src/utils/permissions.ts:
- Funci√≥n para verificar permisos
- HOC para proteger componentes
- Hook usePermissions()

Implementa restricciones en:
- Edici√≥n de trabajadores (solo admin)
- Eliminaci√≥n de registros (admin y supervisor)
- Edici√≥n de inventario (admin y supervisor)
- Creaci√≥n de cultivos y lotes (admin)


PROMPT 12.4 - Sistema de Notificaciones
--------------------------------------------------------------------------------
Crea src/services/notificationService.ts:

- Sistema de notificaciones push (simulado)
- Notificaciones en app
- Store de notificaciones no le√≠das
- Tipos de notificaciones:
  * Stock bajo
  * Actividades vencidas
  * Mantenimientos pendientes
  * Nuevas asignaciones
  * Labores completadas
- Badge de contador en header
- Panel de notificaciones dropdown
- Marcar como le√≠das
- Limpiar todas


================================================================================
FASE 14: TRAZABILIDAD Y MAPAS (45 minutos)
================================================================================

PROMPT 14.1 - Vista de Trazabilidad
--------------------------------------------------------------------------------
Crea src/pages/dashboard/trazabilidad/TrazabilidadView.tsx:

- Selector de lote
- Timeline vertical completa del lote:
  * Fecha de siembra
  * Todas las labores realizadas
  * Insumos aplicados
  * Trabajadores involucrados
  * Condiciones clim√°ticas en cada labor
  * Fotograf√≠as de evidencia
  * Eventos importantes
  * Cosechas
- Informaci√≥n del cultivo
- Mapa con ubicaci√≥n del lote
- Estad√≠sticas del lote
- Bot√≥n exportar trazabilidad completa a PDF
- C√≥digo QR para compartir trazabilidad


PROMPT 13.2 - Componentes de Mapas
--------------------------------------------------------------------------------
Crea src/components/maps/:

MapaInteractivo.tsx:
- Componente de mapa usando Leaflet
- Marcadores personalizados por tipo
- Popup con informaci√≥n
- Captura de coordenadas al hacer click

MapaLotesGeneral.tsx:
- Mapa con todos los lotes
- Filtros por cultivo
- Clustering de marcadores cercanos
- Info window con datos del lote

SelectorUbicacion.tsx:
- Selector de ubicaci√≥n para formularios
- B√∫squeda de direcci√≥n
- Bot√≥n "Usar mi ubicaci√≥n"


================================================================================
FASE 15: OPTIMIZACI√ìN Y POLISH (1 hora)
================================================================================

PROMPT 15.1 - Loading States y Skeletons
--------------------------------------------------------------------------------
Implementa loading states en todas las vistas:
- Skeleton loaders para tablas
- Skeleton loaders para cards
- Skeleton loaders para gr√°ficos
- Loading spinners para acciones
- Indicadores de progreso en uploads
- Disabled states durante operaciones

Crea componentes:
- TableSkeleton.tsx
- CardSkeleton.tsx
- ChartSkeleton.tsx


PROMPT 14.2 - Error Handling y Validaciones
--------------------------------------------------------------------------------
Implementa manejo de errores robusto:
- Error boundaries en componentes principales
- Mensajes de error amigables en espa√±ol
- Validaciones en todos los formularios
- Feedback visual en operaciones
- Toasts de √©xito/error
- Confirmaciones para acciones destructivas
- Retry autom√°tico en fallos de red


PROMPT 14.3 - Responsive Design
--------------------------------------------------------------------------------
Optimiza para todos los dispositivos:
- Tablets (768px - 1024px):
  * Sidebar colapsable
  * Tablas con scroll horizontal
  * Grids de 2 columnas
- M√≥viles (< 768px):
  * Men√∫ hamburguesa
  * Cards en lista vertical
  * Formularios en una columna
  * Botones de acci√≥n flotantes
- Desktop (> 1024px):
  * M√°ximo aprovechamiento de espacio
  * M√∫ltiples paneles
  * Grids de 3-4 columnas

Prueba todas las vistas en diferentes tama√±os.


PROMPT 14.4 - Accesibilidad
--------------------------------------------------------------------------------
Implementa mejoras de accesibilidad:
- Labels en todos los inputs
- Roles ARIA apropiados
- Focus visible
- Navegaci√≥n por teclado
- Contraste de colores adecuado
- Textos alternativos en im√°genes
- Mensajes de error asociados a campos


================================================================================
FASE 16: LANDING PAGE Y AUTENTICACI√ìN (45 minutos)
================================================================================

PROMPT 16.1 - Landing Page Moderna
--------------------------------------------------------------------------------
Crea src/pages/Home/LandingPage.tsx con dise√±o moderno:

HERO SECTION:
- T√≠tulo principal: "Sistema de Gesti√≥n Agr√≠cola Integral"
- Subt√≠tulo: "Controla, planifica y optimiza todas las labores 
  de tu cultivo desde cualquier dispositivo"
- Imagen o ilustraci√≥n de agricultura
- Botones: "Comenzar Gratis" y "Ver Demo"

SECCI√ìN DE CARACTER√çSTICAS:
- Grid de 6 caracter√≠sticas principales con iconos:
  * Registro de labores en campo
  * Gesti√≥n de trabajadores
  * Control de inventario
  * Planificaci√≥n de actividades
  * Reportes y estad√≠sticas
  * Trazabilidad completa

SECCI√ìN DE BENEFICIOS:
- 3 cards con beneficios:
  * Aumenta la productividad
  * Reduce costos operativos
  * Mejora la toma de decisiones

SECCI√ìN DE CAPTURAS:
- Screenshots o mockups del sistema

FOOTER:
- Links
- Informaci√≥n de contacto

Dise√±o moderno con gradientes y animaciones sutiles.


PROMPT 15.2 - Sistema de Autenticaci√≥n Completo
--------------------------------------------------------------------------------
Mejora los componentes de autenticaci√≥n existentes:

LoginForm.tsx:
- Validaciones robustas
- Recordar sesi√≥n
- Link a recuperar contrase√±a
- Feedback de errores
- Loading state

RegisterForm.tsx:
- Validaci√≥n de contrase√±a fuerte
- Confirmaci√≥n de contrase√±a
- T√©rminos y condiciones
- Validaci√≥n de email

ForgotPasswordForm.tsx:
- Env√≠o de email de recuperaci√≥n
- Confirmaci√≥n visual

Implementa autenticaci√≥n simulada en authService.ts:
- Login con usuario demo
- Usuarios de prueba con diferentes roles:
  * admin@agro.com / admin123 (Administrador)
  * supervisor@agro.com / super123 (Supervisor)
  * trabajador@agro.com / trab123 (Trabajador)
- Generar tokens falsos
- Almacenar en localStorage


================================================================================
FASE 17: DOCUMENTACI√ìN Y DATOS DE DEMOSTRACI√ìN (30 minutos)
================================================================================

PROMPT 17.1 - Inicializaci√≥n de Datos de Demo
--------------------------------------------------------------------------------
Crea src/utils/initializeDemoData.ts:

- Funci√≥n para verificar si existen datos en localStorage
- Si no existen, generar autom√°ticamente:
  * 15 trabajadores realistas
  * 8 cultivos con informaci√≥n real
  * 20 lotes con coordenadas de Colombia
  * 100 labores de los √∫ltimos 30 d√≠as con datos coherentes
  * 30 insumos
  * 10 m√°quinas
  * 25 actividades planificadas

- Llamar esta funci√≥n en el inicio de la aplicaci√≥n (main.tsx)
- Bot√≥n en settings para "Restablecer datos de demostraci√≥n"


PROMPT 16.2 - Crear README Completo
--------------------------------------------------------------------------------
Crea README_SISTEMA_AGRICOLA.md con:

# Sistema de Gesti√≥n Agr√≠cola Integral - AgroGest

## Descripci√≥n
[Descripci√≥n completa del sistema]

## Caracter√≠sticas Principales
[Lista de m√≥dulos y funcionalidades]

## Tecnolog√≠as Utilizadas
- React 18
- TypeScript
- Vite
- TanStack Query (React Query)
- Zustand
- Tailwind CSS
- shadcn/ui
- Recharts
- React Router
- Axios
- date-fns
- React Leaflet

## Instalaci√≥n
```bash
npm install
npm run dev
```

## Usuarios de Demostraci√≥n
[Lista de usuarios]

## Estructura del Proyecto
[√Årbol de carpetas explicado]

## M√≥dulos del Sistema
[Descripci√≥n de cada m√≥dulo]

## Funcionalidades Destacadas
[Lista detallada]

## Capturas de Pantalla
[Descripci√≥n de vistas principales]

## Modelo de Datos
[Esquema de entidades]

## API Endpoints (Simulados)
[Lista de endpoints]

## Roadmap - Integraciones Futuras
- [ ] Sensores IoT
- [ ] Estaciones meteorol√≥gicas
- [ ] B√°sculas digitales
- [ ] GPS autom√°tico
- [ ] Drones para mapeo
- [ ] Sistema de riego automatizado

## Licencia
[Licencia del proyecto]


PROMPT 16.3 - Documentaci√≥n de Componentes
--------------------------------------------------------------------------------
Crea DOCUMENTACION_TECNICA.md con:

- Arquitectura del sistema
- Flujo de datos
- Estructura de componentes
- Patrones utilizados
- Hooks personalizados
- Servicios y APIs
- Store de estado
- Manejo de errores
- Sistema de cach√©
- Offline mode
- Sistema de permisos


================================================================================
FASE 18: TESTING Y AJUSTES FINALES (30 minutos)
================================================================================

PROMPT 18.1 - Testing Manual Completo
--------------------------------------------------------------------------------
Prueba todas las funcionalidades siguiendo este checklist:

M√ìDULO DE LABORES:
- [ ] Crear nueva labor con todos los campos
- [ ] Editar labor existente
- [ ] Eliminar labor con confirmaci√≥n
- [ ] Filtrar por fecha, cultivo, trabajador
- [ ] B√∫squeda de labores
- [ ] Exportar labores a Excel
- [ ] Ver detalle de labor con fotos

M√ìDULO DE TRABAJADORES:
- [ ] Crear nuevo trabajador
- [ ] Editar trabajador
- [ ] Ver detalle con historial
- [ ] Filtrar y buscar
- [ ] Activar/desactivar

M√ìDULO DE CULTIVOS Y LOTES:
- [ ] Crear cultivo
- [ ] Crear lote asociado
- [ ] Ver en mapa
- [ ] Ver trazabilidad

M√ìDULO DE INSUMOS:
- [ ] Ver inventario
- [ ] Ajustar stock
- [ ] Ver alertas de stock bajo

M√ìDULO DE PLANIFICACI√ìN:
- [ ] Crear actividad
- [ ] Completar actividad
- [ ] Ver calendario

DASHBOARD:
- [ ] Ver estad√≠sticas correctas
- [ ] Ver gr√°ficos
- [ ] Alertas funcionando

REPORTES:
- [ ] Generar reporte general
- [ ] Exportar reporte a PDF

SISTEMA:
- [ ] Login/Logout
- [ ] Roles funcionando
- [ ] B√∫squeda global
- [ ] Responsive en m√≥vil
- [ ] Modo offline (simular desconexi√≥n)

Documentar cualquier bug encontrado.


PROMPT 17.2 - Ajustes de UI/UX
--------------------------------------------------------------------------------
Realizar ajustes finales:
- Revisar consistencia de colores
- Verificar espaciados y alineaciones
- Optimizar tiempos de carga
- Ajustar animaciones
- Mejorar feedback visual
- Revisar textos y traducciones
- Verificar iconos consistentes
- Mejorar contraste de textos
- Ajustar tama√±os de fuente
- Optimizar para tablets


PROMPT 17.3 - Optimizaci√≥n de Performance
--------------------------------------------------------------------------------
- Implementar lazy loading de rutas
- Optimizar re-renders con React.memo
- Implementar virtualization en listas largas
- Optimizar bundle size
- Configurar staleTime en queries
- Implementar pagination en tablas grandes
- Lazy load de im√°genes
- Debounce en b√∫squedas


================================================================================
FASE 19: PREPARACI√ìN PARA INTEGRACI√ìN FUTURA (30 minutos)
================================================================================

PROMPT 19.1 - Documentaci√≥n de Integraciones Futuras
--------------------------------------------------------------------------------
Crea INTEGRACIONES_FUTURAS.md con:

## Preparaci√≥n para Sensores IoT

### Endpoints necesarios:
- POST /api/sensores/temperatura
- POST /api/sensores/humedad
- POST /api/sensores/ph-suelo

### Estructura de datos:
```typescript
interface SensorData {
  sensor_id: string;
  lote_id: string;
  tipo_sensor: string;
  valor: number;
  unidad: string;
  timestamp: Date;
  coordenadas?: GPSCoordinates;
}
```

## Integraci√≥n con Estaciones Meteorol√≥gicas

### Endpoints:
- GET /api/clima/actual/:loteId
- GET /api/clima/pronostico/:loteId

### Datos esperados:
- Temperatura
- Humedad
- Precipitaci√≥n
- Velocidad del viento
- Radiaci√≥n solar

## Integraci√≥n con B√°sculas Digitales

### Protocolo:
- Conexi√≥n Bluetooth o WiFi
- Actualizaci√≥n autom√°tica del peso en formulario
- Endpoint: POST /api/lecturas-bascula

## GPS Autom√°tico

### Funcionalidad:
- Captura autom√°tica de coordenadas
- Tracking de rutas del trabajador
- Geofencing de lotes

## Drones y Mapeo A√©reo

### Funcionalidad:
- Upload de im√°genes a√©reas
- An√°lisis de NDVI
- Detecci√≥n de problemas

## Sistema de Riego Automatizado

### Control:
- Activaci√≥n remota de riego
- Programaci√≥n de riegos
- Monitoreo de consumo de agua


PROMPT 18.2 - Estructura de Base de Datos SQL
--------------------------------------------------------------------------------
Crea DATABASE_SCHEMA.sql con el esquema completo de base de datos:

```sql
-- Tabla de trabajadores
CREATE TABLE trabajadores (
  id INT PRIMARY KEY AUTO_INCREMENT,
  nombres VARCHAR(100) NOT NULL,
  apellidos VARCHAR(100) NOT NULL,
  tipo_documento ENUM('CC', 'CE', 'PA') NOT NULL,
  numero_documento VARCHAR(20) UNIQUE NOT NULL,
  ...
);

-- [Todas las tablas necesarias]
```

Incluir:
- Todas las tablas
- Relaciones (FK)
- √çndices
- Constraints
- Triggers √∫tiles


PROMPT 18.3 - API REST Endpoints Documentation
--------------------------------------------------------------------------------
Crea API_ENDPOINTS.md con documentaci√≥n completa estilo OpenAPI:

Para cada endpoint:
- M√©todo HTTP
- URL
- Descripci√≥n
- Par√°metros
- Body request
- Response exitosa
- C√≥digos de error
- Ejemplos

Grupos:
- Autenticaci√≥n
- Labores
- Trabajadores
- Cultivos
- Lotes
- Insumos
- Actividades
- Reportes
- Trazabilidad
- Sensores (futuro)


================================================================================
FASE 20: DEPLOYMENT Y CONFIGURACI√ìN (30 minutos)
================================================================================

PROMPT 20.1 - Configuraci√≥n de Variables de Entorno
--------------------------------------------------------------------------------
Crea .env.example con todas las variables necesarias:

```env
# API Configuration
VITE_API_BASE_URL=http://localhost:3000/api
VITE_USE_MOCK_DATA=true

# Map Configuration
VITE_GOOGLE_MAPS_API_KEY=your_key_here
VITE_MAPBOX_TOKEN=your_token_here

# Storage
VITE_STORAGE_PREFIX=agro_gest_

# Features
VITE_ENABLE_OFFLINE_MODE=true
VITE_ENABLE_NOTIFICATIONS=true

# Environment
VITE_ENVIRONMENT=development
```

Actualizar servicios para usar estas variables.


PROMPT 19.2 - Scripts de Build y Deploy
--------------------------------------------------------------------------------
Actualiza package.json con scripts √∫tiles:

```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext ts,tsx",
    "format": "prettier --write \"src/**/*.{ts,tsx}\"",
    "clean": "rm -rf dist node_modules",
    "reset-demo": "node scripts/resetDemoData.js"
  }
}
```

Crear script scripts/resetDemoData.js para reiniciar datos de demo.


PROMPT 19.3 - Gu√≠a de Deployment
--------------------------------------------------------------------------------
Actualiza DEPLOYMENT.md con instrucciones para:

- Deployment en Vercel
- Deployment en Netlify  
- Deployment en servidor propio
- Configuraci√≥n de nginx
- Certificados SSL
- Variables de entorno en producci√≥n
- Optimizaciones de build


================================================================================
FASE 21: REVISI√ìN FINAL Y ENTREGA (30 minutos)
================================================================================

PROMPT 21.1 - Revisi√≥n General del Sistema
--------------------------------------------------------------------------------
Hacer una revisi√≥n completa:

1. Verificar que todos los m√≥dulos est√©n implementados
2. Probar flujo completo de usuario desde login hasta exportar reporte
3. Verificar datos de demostraci√≥n coherentes
4. Revisar todos los textos en espa√±ol
5. Verificar responsive en 3 tama√±os (m√≥vil, tablet, desktop)
6. Verificar que no haya console.errors
7. Verificar que todos los links funcionen
8. Revisar documentaci√≥n completa


PROMPT 20.2 - Crear Video/GIF de Demostraci√≥n
--------------------------------------------------------------------------------
Preparar material de demostraci√≥n:
- Screenshots de cada m√≥dulo
- Crear DEMO_GUIDE.md con gu√≠a paso a paso
- Lista de flujos de usuario para demonstrar


PROMPT 20.3 - Checklist Final
--------------------------------------------------------------------------------
Verificar que est√© completo:

FUNCIONALIDAD:
- [x] Dashboard con estad√≠sticas en tiempo real
- [x] M√≥dulo de labores completo (CRUD + filtros + exportaci√≥n)
- [x] M√≥dulo de trabajadores completo
- [x] M√≥dulo de cultivos y lotes completo
- [x] M√≥dulo de inventario de insumos
- [x] M√≥dulo de planificaci√≥n con calendario
- [x] M√≥dulo de reportes con gr√°ficos
- [x] Sistema de trazabilidad por lote
- [x] Sistema de autenticaci√≥n con roles
- [x] B√∫squeda global
- [x] Modo offline con sincronizaci√≥n
- [x] Exportaci√≥n a Excel y PDF
- [x] Sistema de notificaciones
- [x] Mapas interactivos
- [x] Upload de im√°genes
- [x] Formularios optimizados para m√≥vil
- [x] Validaciones completas

DOCUMENTACI√ìN:
- [x] README completo
- [x] Documentaci√≥n t√©cnica
- [x] Documentaci√≥n de API
- [x] Esquema de base de datos
- [x] Gu√≠a de deployment
- [x] Documentaci√≥n de integraciones futuras

CALIDAD:
- [x] Todo en espa√±ol
- [x] Responsive design
- [x] Accesibilidad b√°sica
- [x] Loading states
- [x] Error handling
- [x] Datos de demostraci√≥n realistas
- [x] Performance optimizado


================================================================================
RESUMEN EJECUTIVO
================================================================================

Este plan de trabajo est√° dise√±ado para completarse en aproximadamente 9-11 
horas de trabajo enfocado, dividido en 21 fases progresivas.

ORDEN DE EJECUCI√ìN:
1. Primero completar Fases 1-3 (Configuraci√≥n base, tipos, servicios, UI)
2. Luego Fases 4-11 (Implementaci√≥n de m√≥dulos principales)
3. Despu√©s Fase 12 (Sistema de roles y permisos - FUNDAMENTAL)
4. Continuar Fases 13-14 (Funcionalidades avanzadas)
5. Finalmente Fases 15-21 (Optimizaci√≥n, documentaci√≥n, deployment)

PRIORIDADES SI HAY LIMITACI√ìN DE TIEMPO:
- CR√çTICA: Fase 12 (Sistema de roles - integrar antes de avanzar mucho)
- ALTA: Fases 1-8 (Core funcional del sistema)
- MEDIA: Fases 9-11, 13-14 (Funcionalidades adicionales)
- BAJA: Fases 15-21 (Polish y documentaci√≥n)

TECNOLOG√çAS PRINCIPALES:
- Frontend: React 18 + TypeScript + Vite
- State: TanStack Query + Zustand
- UI: Tailwind CSS + shadcn/ui
- Gr√°ficos: Recharts
- Mapas: React Leaflet
- Formularios: React Hook Form + Zod

DATOS DE DEMOSTRACI√ìN:
Todos los datos son simulados pero realistas, basados en agricultura 
colombiana t√≠pica. El sistema funciona completamente con datos mock sin 
necesidad de backend.

PREPARACI√ìN PARA PRODUCCI√ìN:
El c√≥digo est√° estructurado para facilitar el reemplazo de servicios mock 
por llamadas reales a API. Solo requiere actualizar los archivos en 
src/services/api/ para apuntar a endpoints reales.

================================================================================
NOTAS IMPORTANTES
================================================================================

1. Cada prompt debe ejecutarse en orden y esperar a que se complete antes 
   de pasar al siguiente.

2. Si alg√∫n prompt es muy grande, se puede dividir en sub-prompts m√°s 
   peque√±os enfocados en componentes espec√≠ficos.

3. Despu√©s de cada fase, hacer una prueba r√°pida de que todo funciona antes 
   de continuar.

4. Mantener consistencia en nombres de variables, funciones y componentes 
   en espa√±ol.

5. Usar comentarios en espa√±ol en el c√≥digo para facilitar mantenimiento.

6. Priorizar funcionalidad sobre perfecci√≥n est√©tica en primera instancia.

7. Los datos mock deben ser coherentes entre s√≠ (ej: labores referenciar 
   trabajadores y lotes que realmente existen).

8. Implementar validaciones en todos los formularios desde el inicio.

9. Usar TypeScript de forma estricta para prevenir errores.

10. Preparar el c√≥digo pensando en escalabilidad futura.

11. IMPORTANTE: El m√≥dulo de roles (Fase 12) es FUNDAMENTAL y debe 
    implementarse completo antes de continuar con otras funcionalidades 
    avanzadas. Todos los componentes posteriores dependen de este sistema.

12. Sistema de 7 roles implementado:
    - SUPER_ADMIN: Control total del sistema
    - ADMINISTRADOR: Gesti√≥n operativa completa
    - SUPERVISOR: Supervisi√≥n y edici√≥n limitada
    - TECNICO_AGRICOLA: Registro y seguimiento de labores
    - TRABAJADOR_CAMPO: Captura b√°sica de datos
    - CONTADOR: Acceso a informaci√≥n financiera
    - SOLO_LECTURA: Visualizaci√≥n sin edici√≥n

13. Usuarios de demostraci√≥n para testing:
    - admin@agro.com / admin123 (Administrador)
    - supervisor@agro.com / super123 (Supervisor)
    - tecnico@agro.com / tecnico123 (T√©cnico Agr√≠cola)
    - trabajador@agro.com / trab123 (Trabajador de Campo)
    - contador@agro.com / cont123 (Contador)

================================================================================
FIN DEL PLAN DE TRABAJO
================================================================================

¬°√âXITO EN LA IMPLEMENTACI√ìN! üöÄüåæ

